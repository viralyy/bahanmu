<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Player1 - LEVEL DEWA SETAN</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}
body{margin:0; font-family:system-ui,sans-serif; background:#0b0b0b; color:#f1f1f1}
.container{max-width:480px;margin:auto;padding:16px}
.video-wrap{position:relative}
video{width:100%;border-radius:14px;background:#000;display:block;transition:.3s ease;opacity:0;transform:scale(.98)}
video.ready{opacity:1;transform:scale(1)}
.controls{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.ctrl-btn{display:flex;align-items:center;gap:6px;padding:8px;border-radius:10px;background:linear-gradient(135deg,#ff0055,#ff3c7d);cursor:pointer;color:#fff;font-weight:600}
.ctrl-btn svg{width:16px;height:16px}
.stats{display:flex;justify-content:space-between;font-size:12px;color:#aaa;margin-top:6px}
.stats .online{color:#0f0;font-weight:700;animation:blink 1s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.2}}
#fullPopup{position:fixed;bottom:0;left:0;width:100%;background:#111;border-top-left-radius:12px;border-top-right-radius:12px;padding:12px;display:none;animation:fadeIn 0.4s}
@keyframes fadeIn{from{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}
.btn-full-content{margin-top:8px;display:flex;align-items:center;justify-content:center;gap:6px;padding:12px;border-radius:14px;background:linear-gradient(135deg,#ffb800,#ff7a00);cursor:pointer;font-weight:700}
#fullLinks a{display:block;color:#fff;padding:6px 0;text-decoration:none}
</style>
</head>
<body>
<div class="container">
  <h2 id="videoTitle">Loading...</h2>
  <div class="stats">
    <div id="views">üëÅ 0 views</div>
    <div class="online">‚óè 0 online</div>
  </div>

  <div class="video-wrap">
    <video id="player" playsinline></video>
    <svg class="watermark" width="80" height="20" viewBox="0 0 120 30" style="position:absolute;bottom:16px;right:16px;opacity:.6;pointer-events:none">
      <text x="0" y="20" fill="#fff" font-size="16">STREAM+</text>
    </svg>
  </div>

  <div class="controls">
    <div id="playBtn" class="ctrl-btn">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg> Play
    </div>
    <div id="muteBtn" class="ctrl-btn">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3z"/></svg> Mute
    </div>
    <div id="speedBtn" class="ctrl-btn">1x</div>
    <div id="fullContentBtn" class="btn-full-content">Full Konten</div>
  </div>
</div>

<div id="fullPopup">
  <h3>Full Konten</h3>
  <div id="fullLinks"></div>
</div>

<script>
// ======= CONFIG =======
const videosJson = "videos.json"; // ambil semua data
let currentVideoId = new URLSearchParams(location.search).get("v") || null;
let videoData = null;
let video = document.getElementById("player");

// ======= LOAD JSON =======
fetch(videosJson+'?_='+Date.now())
.then(r=>r.json())
.then(data=>{
  if(!currentVideoId || !data[currentVideoId]){ alert("Video tidak tersedia"); return; }
  videoData = data[currentVideoId];
  document.getElementById("videoTitle").textContent = videoData.title;
  video.src = videoData.src;
  buildFullLinks();
})
.catch(e=>console.error("Gagal load JSON:", e));

// ======= FULL LINKS =======
function buildFullLinks(){
  const container = document.getElementById("fullLinks");
  container.innerHTML = "";
  if(!videoData.downloads) return;
  videoData.downloads.forEach(d=>{
    let url = d.url || d;
    let label = d.label || "Download";
    const a = document.createElement("a");
    a.href = url;
    a.target="_blank";
    a.textContent = label;
    container.appendChild(a);
  });
}

// ======= VIEWS & ONLINE =======
let views = parseInt(localStorage.getItem("views_"+currentVideoId)||0)+1;
localStorage.setItem("views_"+currentVideoId,views);
document.getElementById("views").textContent = "üëÅ "+views+" views";

function updateOnline(){
  document.querySelector(".online").textContent = "‚óè "+(Math.floor(Math.random()*30)+1)+" online";
}
setInterval(updateOnline,3000);
updateOnline();

// ======= CONTROLS =======
let isPlaying = false;
let isMuted = false;
let speed = 1;

function togglePlay(){ if(video.paused){ video.play(); isPlaying=true; } else{ video.pause(); isPlaying=false; } }
document.getElementById("playBtn").addEventListener("click", togglePlay);

document.getElementById("muteBtn").addEventListener("click",()=>{
  isMuted = !isMuted;
  video.muted = isMuted;
});

document.getElementById("speedBtn").addEventListener("click",()=>{
  speed += 0.25; if(speed>10) speed=0.25;
  video.playbackRate = speed;
  document.getElementById("speedBtn").textContent = speed+"x";
});

// ======= FULL CONTENT POPUP =======
document.getElementById("fullContentBtn").addEventListener("click",()=>{
  const popup = document.getElementById("fullPopup");
  popup.style.display = "block";
});

// ======= VIDEO READY ANIMATION =======
video.addEventListener("loadeddata",()=>{ video.classList.add("ready"); });

// ======= POPUNDER =======
(function(s){
  s.dataset.zone='10109877';
  s.src='https://al5sm.com/tag.min.js';
})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')));

// ======= ANTI INSPECT =======
document.addEventListener("contextmenu",e=>e.preventDefault());
document.onkeydown=function(e){
  if(e.keyCode==123||((e.ctrlKey||e.metaKey)&&(e.shiftKey||e.keyCode==73||e.keyCode==74))) return false;
}
</script>
</body>
</html>
