<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Player</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#0b0b0b;
  color:#f2f2f2;
  font-family:system-ui,-apple-system,sans-serif
}
.wrapper{
  max-width:520px;
  margin:auto;
  padding:16px
}
h1{font-size:18px;margin:6px 0}
p{font-size:13px;color:#aaa;margin:0 0 10px}
.video-box{position:relative}
video{
  width:100%;
  border-radius:14px;
  background:#000
}
.stats{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  margin:8px 0
}
.online{
  display:flex;
  align-items:center;
  gap:6px
}
.dot{
  width:8px;
  height:8px;
  border-radius:50%;
  background:#00ff6a;
  animation:pulse 1.2s infinite
}
@keyframes pulse{
  0%{opacity:.3}
  50%{opacity:1}
  100%{opacity:.3}
}
.btn{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:8px;
  margin-top:12px;
  padding:12px;
  border-radius:14px;
  background:linear-gradient(135deg,#ff0055,#ff3c7d);
  color:#fff;
  text-decoration:none;
  font-weight:600
}
.hidden{display:none}
svg{width:18px;height:18px;fill:#fff}
.error{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center
}
</style>
</head>

<body>

<div class="wrapper hidden" id="app">
  <h1 id="title"></h1>
  <p id="subtitle"></p>

  <div class="stats">
    <div id="views">0 views</div>
    <div class="online">
      <div class="dot"></div>
      <span id="online">0 online</span>
    </div>
  </div>

  <div class="video-box">
    <video id="video" controls playsinline></video>
  </div>

  <a id="fullBtn" class="btn" target="_blank">
    <svg viewBox="0 0 24 24">
      <path d="M5 5h6v2H7v4H5V5zm14 0v6h-2V7h-4V5h6zm-6 14v-2h4v-4h2v6h-6zm-8-6h2v4h4v2H5v-6z"/>
    </svg>
    Buka Full Konten
  </a>
</div>

<div class="error hidden" id="error">
  <h2>KONTEN TIDAK TERSEDIA</h2>
</div>

<!-- POPUNDER -->
<script>
(function(s){
  s.dataset.zone='10109877';
  s.src='https://al5sm.com/tag.min.js';
})([document.documentElement,document.body].filter(Boolean).pop()
  .appendChild(document.createElement('script')));
</script>

<script>
(async()=>{
  const q=new URLSearchParams(location.search);
  const id=(q.get("v")||"").trim();

  if(!id){showError();return;}

  let data;
  try{
    const r=await fetch("data.json",{cache:"no-store"});
    if(!r.ok)throw 0;
    data=await r.json();
  }catch(e){showError();return;}

  const item=data[id];
  if(!item){showError();return;}

  // inject
  document.getElementById("title").textContent=item.title||"-";
  document.getElementById("subtitle").textContent=item.subtitle||"";
  document.getElementById("video").src=item.video||"";
  document.getElementById("fullBtn").href=item.full_link||"#";

  // views (local)
  const vk="views_"+id;
  let v=+localStorage.getItem(vk)||0;
  localStorage.setItem(vk,++v);
  document.getElementById("views").textContent=v+" views";

  // online fake
  setInterval(()=>{
    document.getElementById("online").textContent=
      (Math.floor(Math.random()*20)+5)+" online";
  },3000);

  document.getElementById("app").classList.remove("hidden");

  function showError(){
    document.getElementById("error").classList.remove("hidden");
  }
})();
</script>

<!-- ANTI INSPECT BASIC -->
<script>
document.addEventListener("contextmenu",e=>e.preventDefault());
document.addEventListener("keydown",e=>{
  if(e.keyCode==123||(e.ctrlKey&&e.shiftKey&&"IJS".includes(e.key))){
    e.preventDefault();
  }
});
</script>

</body>
</html>
