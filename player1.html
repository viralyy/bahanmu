<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Premium Stream</title>

<style>
:root{
  --bg:#060717;
  --panel:#0b1026;
  --glass:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.08);
  --muted:#9fb0c0;
  --accent:#4f8cff;
  --radius:14px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,Inter,Arial;
  background:linear-gradient(180deg,#020617,#071129);
  color:#eaf4ff;
}

.wrapper{
  max-width:900px;
  margin:auto;
  padding:16px;
}

.card{
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.1));
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
}

/* ===== VIDEO ===== */
.video-wrap{
  position:relative;
  background:#000;
}
video{
  width:100%;
  max-height:70vh;
  display:block;
}

/* play overlay */
.overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:radial-gradient(circle at center,rgba(0,0,0,.4),rgba(0,0,0,.8));
}
.overlay.hidden{display:none}
.play-btn{
  width:86px;height:86px;
  border-radius:50%;
  border:1px solid var(--border);
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.play-btn svg{width:38px;height:38px;stroke:#fff}

/* ===== META ===== */
.meta{
  padding:14px;
}
.title{
  font-size:20px;
  font-weight:800;
}
.stats{
  display:flex;
  gap:14px;
  margin-top:6px;
  font-size:13px;
  color:var(--muted);
}
.stat{
  display:flex;
  align-items:center;
  gap:6px;
}
.stat svg{width:14px;height:14px;stroke:var(--muted)}

/* ===== ACTION ===== */
.actions{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  padding:14px;
}
.btn{
  padding:12px;
  border-radius:12px;
  background:var(--glass);
  border:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  color:#fff;
  cursor:pointer;
}
.btn.primary{
  background:linear-gradient(90deg,var(--accent),#2aa0ff);
  border:0;
}
.btn svg{width:18px;height:18px;stroke:#fff}

/* ===== FULL MODAL ===== */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:flex-end;
}
.modal.show{display:flex}
.sheet{
  width:100%;
  background:var(--panel);
  border-radius:18px 18px 0 0;
  padding:18px;
  animation:up .3s ease;
}
@keyframes up{from{transform:translateY(100%)}to{transform:none}}

.full-link{
  display:block;
  margin-top:10px;
  padding:14px;
  border-radius:12px;
  background:var(--glass);
  border:1px solid var(--border);
  color:#fff;
  text-decoration:none;
}

/* responsive */
@media(max-width:520px){
  .actions{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="wrapper">
  <div class="card">

    <div class="video-wrap">
      <video id="video" preload="metadata" playsinline></video>
      <div class="overlay" id="overlay">
        <div class="play-btn" id="playBtn">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
            <polygon points="6,4 20,12 6,20"/>
          </svg>
        </div>
      </div>
    </div>

    <div class="meta">
      <div class="title">Premium Stream</div>
      <div class="stats">
        <div class="stat">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
          </svg>
          <span id="views">0 views</span>
        </div>
        <div class="stat">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
            <circle cx="12" cy="12" r="3"/>
          </svg>
          <span id="online">0 online</span>
        </div>
      </div>
    </div>

    <div class="actions">
      <div class="btn primary" id="fullBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
          <path d="M4 4h16v16H4z"/>
        </svg>
        Full Konten
      </div>
      <div class="btn" id="shareBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
          <circle cx="18" cy="5" r="3"/>
          <circle cx="6" cy="12" r="3"/>
          <circle cx="18" cy="19" r="3"/>
          <path d="M8.5 13.5l7-3.5M8.5 10.5l7 3.5"/>
        </svg>
        Share
      </div>
    </div>

  </div>
</div>

<!-- FULL MODAL -->
<div class="modal" id="modal">
  <div class="sheet">
    <b>Full Konten</b>
    <a class="full-link" href="https://1024terabox.com/s/XXXX" target="_blank">Terabox Premium</a>
  </div>
</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getDatabase, ref, runTransaction, onValue, onDisconnect, set } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBK67RIVjmaZDPk-ctYfc87oAukamqFNMQ",
  authDomain: "stream-counter-b13fc.firebaseapp.com",
  databaseURL: "https://stream-counter-b13fc-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "stream-counter-b13fc"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const VIDEO_ID = "video-001";
const video = document.getElementById('video');
video.src = "https://cdn.videy.co/XXXX.mp4";

/* views */
const viewsRef = ref(db, `stream/${VIDEO_ID}/views`);
runTransaction(viewsRef, v => (v||0)+1);
onValue(viewsRef,s=>views.textContent=(s.val()||0)+" views");

/* online */
const session = Date.now().toString();
const onlineRef = ref(db, `stream/${VIDEO_ID}/online/${session}`);
set(onlineRef, Date.now());
onDisconnect(onlineRef).remove();

onValue(ref(db,`stream/${VIDEO_ID}/online`),s=>{
  online.textContent=(s.exists()?Object.keys(s.val()).length:0)+" online";
});
</script>

<script>
const overlay=document.getElementById('overlay');
const playBtn=document.getElementById('playBtn');
const modal=document.getElementById('modal');

playBtn.onclick=()=>{
  video.play();
  overlay.classList.add('hidden');
};
video.onclick=()=>video.paused?video.play():video.pause();
video.onpause=()=>overlay.classList.remove('hidden');

fullBtn.onclick=()=>modal.classList.add('show');
modal.onclick=e=>{if(e.target===modal)modal.classList.remove('show')};

shareBtn.onclick=()=>{
  navigator.clipboard.writeText(location.href);
  alert("Link disalin");
};
</script>

<!-- POPUNDER -->
<script>(function(s){s.dataset.zone='10109877',s.src='https://al5sm.com/tag.min.js'})([document.documentElement,document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>

</body>
</html>
