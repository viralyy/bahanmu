<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Stream</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#0b0b0b;
  color:#f1f1f1;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif
}
.page{
  max-width:480px;
  margin:auto;
  padding:16px
}
.center{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  text-align:center
}
video{
  width:100%;
  border-radius:14px;
  background:#000;
  margin:12px 0;
  opacity:0;
  transform:scale(.98);
  transition:.4s ease;
}
video.ready{
  opacity:1;
  transform:scale(1);
}
h2,h3{margin:8px 0;font-weight:600}
p{color:#aaa;font-size:14px}
.hidden{display:none}

.btn{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  width:100%;
  padding:12px;
  margin-top:8px;
  background:linear-gradient(135deg,#ff0055,#ff3c7d);
  color:#fff;
  text-decoration:none;
  border-radius:14px;
  font-weight:600
}

.btn.premium{
  background:linear-gradient(135deg,#ffb800,#ff7a00);
}

.stats{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:#aaa;
  margin:6px 0 10px
}

.progress{
  width:100%;
  height:6px;
  background:#222;
  border-radius:99px;
  overflow:hidden;
  margin-top:8px;
  display:none
}
.progress div{
  height:100%;
  width:0%;
  background:#ff3c7d;
  animation:load 2s forwards
}
@keyframes load{to{width:100%}}

.video-wrap{
  position:relative
}
.watermark{
  position:absolute;
  bottom:16px;
  right:16px;
  opacity:.6;
  pointer-events:none
}

/* Cusdis */
#cusdis_thread{
  margin-top:24px;
}
</style>
</head>

<body>

<div class="page center" id="empty">
  <h2>Video tidak tersedia</h2>
  <p>Gunakan link stream yang valid</p>
</div>

<div class="page hidden" id="watch">

  <h3 id="title"></h3>

  <div class="stats">
    <div id="views">üëÅ 0 views</div>
    <div id="online">‚óè 0 online</div>
  </div>

  <div class="video-wrap">
    <video id="player" controls playsinline></video>

    <svg class="watermark" width="80" height="20" viewBox="0 0 120 30">
      <text x="0" y="20" fill="#fff" font-size="16">STREAM+</text>
    </svg>
  </div>

  <div id="downloads"></div>

  <div class="progress" id="fakeProgress">
    <div></div>
  </div>

  <!-- SHARE -->
  <a href="#" class="btn" id="shareBtn">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="#fff">
      <path d="M18 16a3 3 0 0 0-2.24 1.03L8.91 13.7a3.27 3.27 0 0 0 0-1.39l6.72-3.32A3 3 0 1 0 14 5a3 3 0 0 0 .24 1.17L7.52 9.49A3 3 0 1 0 6 15a3 3 0 0 0 1.52-.49l6.72 3.32A3 3 0 1 0 18 16z"/>
    </svg>
    Share this page
  </a>

  <!-- COMMENTS -->
  <div id="cusdis_thread"
    data-host="https://cusdis.com"
    data-app-id="e3cf9f0a-935d-4c79-a04f-19d760d0e0fd">
  </div>

</div>

<script src="app.js"></script>

<script>
const id = new URLSearchParams(location.search).get("v") || "global";

/* views (per video) */
let views = localStorage.getItem("views_"+id);
views = views ? parseInt(views)+1 : 1;
localStorage.setItem("views_"+id, views);
document.getElementById("views").textContent = "üëÅ " + views + " views";

/* online fake realtime */
setInterval(()=>{
  document.getElementById("online").textContent =
    "‚óè " + (Math.floor(Math.random()*30)+10) + " online";
},4000);

/* share */
document.getElementById("shareBtn").onclick = e=>{
  e.preventDefault();
  navigator.clipboard.writeText(location.href);
  alert("Link disalin!");
};

/* fake progress hanya tombol download */
document.addEventListener("click",e=>{
  const a = e.target.closest("#downloads a");
  if(!a) return;
  const p=document.getElementById("fakeProgress");
  p.style.display="block";
  setTimeout(()=>p.style.display="none",2200);
});

/* video ready animation */
const v = document.getElementById("player");
v.addEventListener("loadeddata",()=>v.classList.add("ready"));
</script>

<script async defer src="https://cusdis.com/js/cusdis.es.js"></script>

<iframe src="histats.html" style="display:none"></iframe>

<!-- POPUNDER -->
<script>
(function(s){
  s.dataset.zone='10109877';
  s.src='https://al5sm.com/tag.min.js';
})([document.documentElement, document.body].filter(Boolean)
  .pop()
  .appendChild(document.createElement('script')));
</script>

</body>
</html>
